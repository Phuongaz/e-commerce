import{r,S as C,j as t,a as S}from"./index-CyFUtVx2.js";import{T as E}from"./Title-CGM5CABn.js";import{P as L}from"./ProductItem-BTeATCFn.js";const F=()=>{const{products:u,search:c,setSearch:T,showSearch:x}=r.useContext(C),[i,b]=r.useState(!0),[g,n]=r.useState([]),[d,f]=r.useState([]),[m,v]=r.useState([]),[p,j]=r.useState("relevant"),[a,o]=r.useState({min:0,max:1e4}),w=e=>{f(s=>s.includes(e.target.value)?s.filter(l=>l!==e.target.value):[...s,e.target.value])},y=e=>{v(s=>s.includes(e.target.value)?s.filter(l=>l!==e.target.value):[...s,e.target.value])},h=()=>{let e=u.slice();x&&c&&(e=e.filter(s=>s.name.toLowerCase().includes(c.toLowerCase()))),d.length>0&&(e=e.filter(s=>d.includes(s.category))),m.length>0&&(e=e.filter(s=>m.includes(s.subCategory))),e=e.filter(s=>s.price>=a.min&&s.price<=a.max),n(e)},N=()=>{let e=g.slice();switch(p){case"low-high":n(e.sort((s,l)=>s.price-l.price));break;case"high-low":n(e.sort((s,l)=>l.price-s.price));break;default:h();break}};return r.useEffect(()=>{h()},[d,m,c,x,u,a]),r.useEffect(()=>{N()},[p]),t.jsxs("div",{className:"flex flex-col md:flex-row gap-5 pt-10 border-t px-4 sm:px-[5vw] md:px-[7vw] lg:px-[9vw]",children:[t.jsxs("div",{className:"w-full md:w-2/6 lg:w-1/4 xl:w-1/5 border-r border-gray-300 pr-5",children:[t.jsxs("p",{onClick:()=>b(!i),className:"text-lg font-semibold cursor-pointer flex items-center justify-between",children:["FILTERS",t.jsx("img",{className:`h-4 md:hidden transition-transform ${i?"rotate-90":""}`,src:S.dropdown_icon,alt:"dropdown",loading:"lazy"})]}),t.jsxs("div",{className:`${i?"":"hidden"} md:block`,children:[t.jsxs("div",{className:"mt-4 border-b pb-3",children:[t.jsx("p",{className:"text-sm font-medium",children:"CATEGORIES"}),t.jsx("div",{className:"mt-2 flex flex-col space-y-2 text-sm text-gray-700",children:["Men","Women","Kids"].map(e=>t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",className:"w-4 h-4",value:e,onChange:w}),e]},e))})]}),t.jsxs("div",{className:"mt-4 border-b pb-3",children:[t.jsx("p",{className:"text-sm font-medium",children:"TYPE"}),t.jsx("div",{className:"mt-2 flex flex-col space-y-2 text-sm text-gray-700",children:["Topwear","Bottomwear","Winterwear"].map(e=>t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",className:"w-4 h-4",value:e,onChange:y}),e]},e))})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx("p",{className:"text-sm font-medium",children:"PRICE RANGE"}),t.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[t.jsx("input",{type:"number",className:"w-20 p-1 border border-gray-300 rounded",value:a.min,onFocus:e=>e.target.value="",onChange:e=>o({...a,min:e.target.value?Number(e.target.value):0}),onBlur:e=>o({...a,min:e.target.value?Number(e.target.value):0}),min:0}),t.jsx("span",{children:"-"}),t.jsx("input",{type:"number",className:"w-20 p-1 border border-gray-300 rounded",value:a.max,onFocus:e=>e.target.value="",onChange:e=>o({...a,max:e.target.value?Number(e.target.value):1e4}),onBlur:e=>o({...a,max:e.target.value?Number(e.target.value):1e4}),max:1e4})]})]})]})]}),t.jsxs("div",{className:"flex-1 pl-0 sm:pl-5",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 mt-5 sm:mt-0",children:[t.jsx(E,{text1:"ALL",text2:"COLLECTIONS"}),t.jsxs("select",{onChange:e=>j(e.target.value),className:"border border-gray-300 bg-white text-sm px-3 py-2 rounded-md shadow-sm focus:border-blue-500 hover:bg-gray-100 transition duration-200 mb-2 sm:mb-0",children:[t.jsx("option",{value:"relevant",children:"Sort by: Relevant"}),t.jsx("option",{value:"low-high",children:"Sort by: Low to High"}),t.jsx("option",{value:"high-low",children:"Sort by: High to Low"})]})]}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-6 gap-5",children:g.map((e,s)=>t.jsx(L,{id:e._id,name:e.name,price:e.price,image:e.image},s))})]})]})};export{F as default};
