import{r as o,S as g,j as e,f,i as n,y as c}from"./index-CyFUtVx2.js";const b=()=>{const{backendUrl:d}=o.useContext(g),[s,l]=o.useState(""),[t,i]=o.useState(!1),u=async a=>{a.preventDefault(),i(!0);try{const r=await n.post(`${d}/api/user/forgot-password`,{email:s}),{token:m}=r.data,p={service_id:"service_pxx2f2h",template_id:"__ejs-test-mail-service__",user_id:"Q4Z0hOxEmfq_PBINz",template_params:{from_email:s,token:m,domain:"http://localhost:3000"}},x=await n.post("https://api.emailjs.com/api/v1.0/email/send",p,{headers:{"Content-Type":"application/json"}});l(""),c.success("Reset link has been sent to your email!",{position:"top-center",autoClose:1500,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"})}catch(r){console.error("Error:",r),c.error("Error sending email. Please try again.",{position:"top-center",autoClose:1500,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"})}finally{i(!1)}};return e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("div",{className:"p-10 w-full max-w-lg mt-16",children:[e.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-6",children:"Forgot Password"}),e.jsx("p",{className:"text-center text-gray-600 mb-6",children:"Enter your email to receive password reset instructions."}),e.jsxs("form",{onSubmit:u,className:"space-y-5",children:[e.jsxs("div",{className:"relative",children:[e.jsx(f,{className:"absolute top-4 left-3 text-gray-500"}),e.jsx("input",{type:"email",placeholder:"Email Address",value:s,onChange:a=>l(a.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-400 shadow-md",required:!0})]}),e.jsx("button",{type:"submit",className:`w-full bg-blue-700 text-white py-3 rounded-lg font-semibold text-lg transition duration-300 ${t?"opacity-50 cursor-not-allowed":"hover:bg-blue-800"}`,disabled:t,children:t?"Sending...":"Send Reset Link"})]})]})})};export{b as default};
