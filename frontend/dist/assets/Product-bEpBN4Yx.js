import{r as l,S as g,j as s,m as f,a as i}from"./index-CyFUtVx2.js";import{P as j}from"./ProductItem-BTeATCFn.js";import{T as N}from"./Title-CGM5CABn.js";const y=({category:o,subCategory:m})=>{const{products:r,currency:d}=l.useContext(g),[a,n]=l.useState([]);return l.useEffect(()=>{if(r.length>0){let e=r.slice();e=e.filter(c=>o===c.category),e=e.filter(c=>m===c.subCategory),n(e.slice(0,5))}},[r]),s.jsxs("div",{className:"my-24",children:[s.jsx("div",{className:"text-center text-3xl py-2",children:s.jsx(N,{text1:"SẢN PHẨM",text2:"LIÊN QUAN"})}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 gap-y-6 mt-2 montserrat-regular",children:a.map((e,c)=>s.jsx(j,{id:e._id,image:e.image,name:e.name,price:e.price},c))})]})},C=()=>{const{productId:o}=f(),{products:m,currency:r,addToCart:d}=l.useContext(g),[a,n]=l.useState(!1),[e,c]=l.useState(""),[p,u]=l.useState(""),h=async()=>{m.map(t=>{if(t._id===o)return n(t),c(t.image[0]),null})};return l.useEffect(()=>{h()},[o]),a?s.jsxs("div",{className:"border-t-2 pt-10 transition-opacity ease-in duration-1000 opacity-100 px-4 sm:px-[5vw] md:px-[7vw] lg:px-[9vw]",children:[s.jsxs("div",{className:"flex gap-12 sm:gap-12 flex-col sm:flex-row",children:[s.jsxs("div",{className:"flex-1 flex flex-col-reverse gap-3 sm:flex-row",children:[s.jsx("div",{className:"flex sm:flex-col overflow-x-auto sm:overflow-y-scroll justify-between sm:justify-normal sm:w-[18.7%] w-full",children:a.image.map((t,x)=>s.jsx("img",{src:t,alt:"product",className:"w-[24%] sm:w-full sm:mb-3 flex-shrink cursor-pointer",onClick:()=>c(t)},x))}),s.jsx("div",{className:"w-full sm:w-[80%]",children:s.jsx("img",{className:"w-full h-auto",src:e,alt:"product"})})]}),s.jsxs("div",{className:"flex-1 ",children:[s.jsx("h1",{className:"font-medium text-2xl mt-2",children:a.name}),s.jsxs("div",{className:"flex items-center gap-1 mt-3",children:[s.jsx("img",{src:i.star_icon,className:"w-3 5",alt:""}),s.jsx("img",{src:i.star_icon,className:"w-3 5",alt:""}),s.jsx("img",{src:i.star_icon,className:"w-3 5",alt:""}),s.jsx("img",{src:i.star_icon,className:"w-3 5",alt:""}),s.jsx("img",{src:i.star_icon,className:"w-3 5",alt:""})]}),s.jsxs("p",{className:"mt-4 text-3xl font-medium",children:[a.price," ",r]}),s.jsxs("div",{className:"flex flex-col gap-4 mt-4",children:[s.jsx("p",{children:"Chọn kích cỡ"}),s.jsx("div",{className:"flex gap-2",children:a.sizes.map((t,x)=>s.jsx("button",{onClick:()=>u(t),className:`border py-2 px-4 bg-gray-100 ${t===p?"border-orange-400":""}`,children:t},x))})]}),s.jsx("p",{className:"my-6 text-gray-500 md:w-4/5",children:a.description}),s.jsx("button",{onClick:()=>d(a._id,p),className:"bg-blue-800 text-white px-8 py-3 text-sm active:bg-gray-800 hover:bg-blue-700",children:"Thêm vào giỏ hàng"}),s.jsx("hr",{className:" mt-2 sm:w-4/5"}),s.jsxs("div",{className:"text-sm text-gray-500 mt-5 flex flex-col gap-1",children:[s.jsx("p",{children:"Sản phẩm 100% chính hãng"}),s.jsx("p",{children:"Thanh toán khi nhận hàng"})]})]})]}),s.jsx(y,{category:a.category,subCategory:a.subCategory})]}):s.jsx("div",{className:" opacity-0"})};export{C as default};
