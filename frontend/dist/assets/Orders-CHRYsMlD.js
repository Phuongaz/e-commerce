import{r as c,S as j,n as g,j as e,a as f,i as u}from"./index-CyFUtVx2.js";import{T as N}from"./Title-CGM5CABn.js";const v=()=>{const{backendUrl:i,token:n,currency:m,loading:o,setLoading:l}=c.useContext(j),[d,h]=c.useState([]),p=g(),x=async()=>{try{if(!n)return;l(!0);const s=await u.get(`${i}/api/orders`,{headers:{token:n}});if(s.data.success){let r=[];s.data.orders.forEach(t=>{t.items.forEach(a=>{a.status=t.status,a.payment=t.payment,a.paymentMethod=t.paymentMethod,a.date=t.date,r.push(a)})}),h(r.reverse())}}catch{}finally{l(!1)}};return c.useEffect(()=>{x()},[n]),e.jsxs("div",{className:"border-t pt-10 px-4 sm:px-[5vw] md:px-[7vw] lg:px-[9vw] min-h-96",children:[e.jsx("div",{className:"text-2xl mb-6",children:e.jsx(N,{text1:"ĐƠN HÀNG",text2:"CỦA TÔI"})}),o?e.jsx("div",{className:"flex justify-center items-center my-10 text-gray-700",children:e.jsx("p",{className:"text-lg",children:"Đang tải đơn hàng..."})}):d.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center text-center my-10",children:[e.jsx("img",{src:f.noorder,alt:"No Orders",className:"w-40 sm:w-60 mb-4",loading:"lazy"}),e.jsx("p",{className:"text-gray-700 mb-6",children:"Start shopping to place your first order."}),e.jsx("button",{onClick:()=>p("/collection"),className:"bg-black text-white px-6 py-2 text-sm rounded-md",children:"Shop Now"})]}):e.jsx("div",{children:d.map((s,r)=>e.jsxs("div",{className:"py-4 border-b border-t text-gray-700 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-6 text-sm",children:[e.jsx("img",{src:s.image[0],alt:"product",className:"w-16 sm:w-20 ",loading:"lazy"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-base font-medium",children:s.name}),e.jsxs("div",{className:"flex items-center gap-3 mt-2 text-base text-gray-600",children:[e.jsxs("p",{children:[s.price," ",m]}),e.jsxs("p",{children:["Số lượng: ",s.quantity]}),e.jsxs("p",{children:["Kích thước: ",s.size]})]}),e.jsxs("p",{className:"mt-1",children:["Ngày:"," ",e.jsx("span",{className:"text-gray-400",children:new Date(s.date).toDateString()})]}),e.jsxs("p",{className:"mt-1",children:["Phương thức thanh toán:"," ",e.jsx("span",{className:"text-gray-400",children:s.paymentMethod})]})]})]}),e.jsxs("div",{className:"md:w-1/2 flex justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"min-w-2 h-2 rounded-full bg-green-500"}),e.jsx("p",{className:"text-sm md:text-base",children:s.status})]}),e.jsx("button",{onClick:x,className:"border px-4 py-2 text-sm font-medium rounded-sm",children:"THEO DÕI ĐƠN HÀNG"})]})]},r))})]})};export{v as default};
