import{r as s,S,m as k,n as O,j as e,h as f,q as h,s as w,y as i,i as R}from"./index-CyFUtVx2.js";const q=()=>{const{backendUrl:x}=s.useContext(S),{token:b}=k(),y=O(),[a,P]=s.useState(""),[c,v]=s.useState(""),[o,u]=s.useState(!1),[r,C]=s.useState(!1),[l,j]=s.useState(!1),d=()=>C(!r),g=()=>j(!l),N=async t=>{var p,m;if(t.preventDefault(),a!==c){i.error("Passwords do not match!",{position:"top-center",autoClose:1500,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"});return}u(!0);try{const n=await R.post(`${x}/api/user/reset-password`,{token:b,newPassword:a});i.success(n.data.message,{position:"top-center",autoClose:1500,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"}),y("/login")}catch(n){i.error(((m=(p=n.response)==null?void 0:p.data)==null?void 0:m.message)||"Something went wrong!",{position:"top-center",autoClose:1500,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"})}finally{u(!1)}};return e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("div",{className:"p-10 mt-20 w-full max-w-lg",children:[e.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-6",children:"Reset Password"}),e.jsxs("form",{onSubmit:N,className:"space-y-5",children:[e.jsxs("div",{className:"relative",children:[e.jsx(f,{className:"absolute top-4 left-3 text-gray-500"}),e.jsx("input",{type:r?"text":"password",placeholder:"New Password",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 shadow-md",value:a,onChange:t=>P(t.target.value),required:!0}),r?e.jsx(h,{className:"absolute top-4 right-3 text-gray-500 cursor-pointer",onClick:d}):e.jsx(w,{className:"absolute top-4 right-3 text-gray-500 cursor-pointer",onClick:d})]}),e.jsxs("div",{className:"relative",children:[e.jsx(f,{className:"absolute top-4 left-3 text-gray-500"}),e.jsx("input",{type:l?"text":"password",placeholder:"Confirm Password",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500 shadow-md",value:c,onChange:t=>v(t.target.value),required:!0}),l?e.jsx(h,{className:"absolute top-4 right-3 text-gray-500 cursor-pointer",onClick:g}):e.jsx(w,{className:"absolute top-4 right-3 text-gray-500 cursor-pointer",onClick:g})]}),e.jsx("button",{type:"submit",className:`w-full bg-blue-700 text-white py-3 rounded-lg font-semibold text-lg transition-all duration-300 ${o?"opacity-50 cursor-not-allowed":"hover:bg-blue-800 transform hover:scale-105"}`,disabled:o,children:o?"Resetting...":"Reset Password"})]})]})})};export{q as default};
